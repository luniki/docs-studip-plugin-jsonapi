# Dateibereich v4.0+

<aside class="warning">Dieser Abschnitt gilt für die Stud.IP >= v4.0 Die
Stud.IP v3.5 verwendet den alten Dateibereich.</aside>

In Stud.IP hat jeder Nutzer, jede Einrichtung und jede Veranstaltung
einen eigenen Dateibereich. Dateibereiche sind (spezielle) Ordner.
Ordner können Dateien und Ordner enthalten, in denen sich wiederum
Dateien und Ordner befinden können.

Es gibt verschiedene Arten von Ordnern, die sich in der Regel darin
unterscheiden, wer sie sehen kann und wer Lese- und/oder
Schreibzugriff auf diese Ordner hat.

## Schemata


### Schema "file-refs"

TODO: Einleitung

### Attribute

Attribut | Beschreibung
-------- | ------------
keyword  | TODO
content  | TODO
chdate   | TODO
version  | TODO

### Relationen

 Relation | Beschreibung
--------  | ------------
author    | TODO
range     | TODO

### Type "files"

TODO: Einleitung

### Attribute

Attribut  | Beschreibung
--------- | ------------
name      | TODO
mime-type | TODO
size      | TODO
storage   | TODO
mkdate    | TODO
chdate    | TODO

### Relationen

 Relation | Beschreibung
--------  | ------------
file-refs | TODO
owner     | TODO
url       | TODO

### Meta

Meta         | Beschreibung
------------ | ------------
download-url | TODO

### Type "folders"

TODO: Einleitung

### Attribute

Attribut     | Beschreibung
------------ | ------------
folder-type  | TODO
name         | TODO
data_content | TODO
description  | TODO
mkdate       | TODO
chdate       | TODO


### Relationen

Relation  | Beschreibung
--------- | ------------
owner     | TODO
parent    | TODO
range     | TODO
children  | TODO
folders   | TODO
file-refs | TODO


### Type "terms-of-use"

TODO: Einleitung

### Attribute

Attribut     | Beschreibung
------------ | ------------
name         | TODO
description  | TODO
mkdate       | TODO
chdate       | TODO


### Relationen

Lizenzen ('terms-of-use') haben keine Relationen.


## Alle Dateien einer Veranstaltung

```shell
TODO
```

> Der Request liefert JSON ähnlich wie dieses:

<%#= partial "includes/json/get_courses_id_files" %>


Wenn in einer Veranstaltung der Dateibereich aktiviert ist, erhält man
mit der ID der Veranstaltung über diesen Endpoint den Wurzelordner der Veranstaltung.

### HTTP Request

`GET https://example.com/jsonapi/{type:courses|institutes|users}/{id}/files`

### URL-Parameter

Parameter |  Beschreibung
--------- | -------
id        | die ID der Veranstaltung


## TODO: Eine Lizenz auslesen
   GET /terms-of-use/{id}

## TODO: Eine Datei auslesen
   GET /files/{id}

## TODO: Alle FileRefs einer Datei
   GET /files/{id}/file-refs

## TODO: Relation: FileRefs einer Datei
   GET /files/{id}/relationships/file-refs

## TODO: Eine FileRef auslesen
   GET /file-refs/{id}

## TODO: Einen Ordner auslesen
   GET /folders/{id}

## TODO: Alle FileRefs eines Ordners
   GET /folders/{id}/file-refs

## TODO: Alle Ordner eines Ordners
   GET /folders/{id}/folders
