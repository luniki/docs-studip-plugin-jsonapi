# Veranstaltungen

Veranstaltungen sind Gruppen für Seminare, Vorlesungen, Übungen etc.
Innerhalb von Veranstaltungen werden Materialien geteilt, Plugins verwendet, Termine festgelegt uvm.
Viele Funktionen von Stud.IP sind nur für eine bestimmte Veranstaltung sichtbar.

## Schema "courses"

### Attribute

Attribut      | Beschreibung
------------- | ------------
course-number | ID des Kurses
title         | Titel des Kurses
subtitle      | Untertitel des Kurses
course-type   | Art des Kurses (Seminar, Vorlesung...)
description   | Beschreibung des Kurses
location      | Ort der Veranstaltung
miscellaneous | sonstiges


### Relationen

 Relation        | Beschreibung
---------------- | ------------
institute        | Die zugewiesene Institution
start-semester   | Anfangs-Semester der Veranstaltung
end-semester     | End-Semester der Veranstaltung
files            | Referenz auf Files innerhalb der Veranstaltung
documents        | Referenz auf Dokumente innerhalb der Veranstaltung
document-folders | Ordner für Dateien innerhalb der Veranstaltung

## Schema "course-memberships"

Zeigt die Teilnahme an einer Veranstaltung mit Ihrer Rolle an.

### Attribute

Attribut      | Beschreibung
------------- | ------------
status        | Rolle des Nutzers (Autor, Dozent, etc...)
position      | Anordnung in der Teilnehmer-Liste
group         | Anordnung in der Teilnehmer-Liste
mkdate        | Erstellungsdatum
label         | die "Funktion" des Teilnehmers (s. Weboberfläche)
notification  | Bekomme ich einmal am Tag eine E-Mail-Benachrichtigung über neue Inhalte in dieser Veranstaltung?
comment       | Teilnehmerkommentar für Lehrende
visible       | Sichtbarkeit im Kurs

Das Feld "visible" ist nur für einen selbst bzw. die Lehrenden der
Veranstaltung zu sehen.

### Relationen

 Relation        | Beschreibung
---------------- | ------------
course           | Die Veranstaltung für die Teilnehmer
user             | Nutzer der Veranstaltung

## Alle Veranstaltungen
```shell
curl --request GET \
    --url https://example.com/courses \
    --header "Authorization: Basic `echo -ne "test_autor:testing" | base64`"
```

Mit dieser Route können alle Veranstaltungen ausgelesen werden.

### HTTP Request

`GET /courses`

### URL-Parameter

Parameter        | Default | Beschreibung
---------        | ------- | ------------
page[offset]     | 0       | der Offset (siehe Paginierung)
page[limit]      | 30      | das Limit (siehe Paginierung)
filter[q]        | -       | ein Suchbegriff (mind. 3 Zeichen)
filter[fields]   | all     | in welchen Feldern gesucht werden soll
filter[semester] | all     | in welchem Semester gesucht werden soll

Der Parameter "filter[fields]" darf folgende Werte annehmen: 'all', 'title_lecturer_number', 'title', 'sub_title', 'lecturer', 'number', 'comment', 'scope'.

### Autorisierung

Jeder eingeloggte Nutzer kann diese Route verwenden.


## Eine Veranstaltung
   GET /courses/{id}

   ```shell
   curl --request GET \
       --url https://example.com/courses/<course-id> \
       --header "Authorization: Basic `echo -ne "test_autor:testing" | base64`" \
   ```

## Alle Veranstaltungen eines Nutzers
   GET /users/{id}/courses

   ```shell
   curl --request GET \
       --url https://example.com/users/<user-id>/courses \
       --header "Authorization: Basic `echo -ne "test_autor:testing" | base64`" \
   ```

## Teilnahmen einer Veranstaltung
   GET /courses/{id}/memberships

   ```shell
   curl --request GET \
       --url https://example.com/courses/<course-id>/memberships \
       --header "Authorization: Basic `echo -ne "test_autor:testing" | base64`" \
   ```

## IDs der Teilnahmen
   GET /courses/{id}/relationships/memberships

   ```shell
   curl --request GET \
       --url https://example.com/courses/<course-id>/relationships/memberships \
       --header "Authorization: Basic `echo -ne "test_autor:testing" | base64`" \
   ```
