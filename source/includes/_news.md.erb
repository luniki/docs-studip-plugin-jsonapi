# Ankündigungen (News)

Ankündigungen informieren Stud.IP-Nutzer über neuste Ereignisse rund um
die Lehre. In Stud.IP können Ankündigungen z.B. systemweit (global) oder für
einen bestimmten Nutzerkreis erstellt werden.

## Schema "news"

Ankündigungen bestehen aus ihrem Inhalt und einigen Meta-Daten. Die Dauer der
Sichtbarkeit einer Anküdnigung wird durch ihre Attribute publication-start und
end bestimmt (siehe Relationen).

### Attribute

Attribut          | Beschreibung
--------          | ------------
title             | Name einer news
content           | Inhalt einer News
mkdate            | Erstellungs-Datum einer News
chdate            | Datum der letzten Änderung
publication-start | Start der Sichtbarkeit für den Nutzerkreis einer News
publication-end   | Ende der Sichtbarkeit für den Nutzerkreis einer News
comments-allowed  | Bestimmung, ob Kommentare erlaubt sind (Boolean)

### Relationen

 Relation | Beschreibung
--------  | ------------
author    | Ersteller einer News
ranges    | global, institute, semester, course, users

Der Range einer News gibt an wo sie publiziert wird und somit auch für wen
sie sichtbar ist.

## Schema "comments"

Kommentare werden in Stud.IP an eine Ankündigung angehangen, wenn der Ersteller
der News die Erlaubnis vergeben hat.

### Attribute

Attribut          | Beschreibung
--------          | ------------
content           | Inhalt eines Kommentars
mkdate            | Erstellungs-Datum
chdate            | Datum der letzten Änderung

### Relationen

 Relation | Beschreibung
--------  | ------------
author    | Der Ersteller des Kommentars
news      | Die kommentierte News



## Eine Kurs-News anlegen
   POST /courses/{id}/news

## Eine Nutzer-News anlegen
   POST /users/{id}/news

## Eine News anlegen
   POST /news

## Einen Kommentar anlegen
   POST /news/{id}/comments

## Eine News ändern
   PATCH /news/{id}

## Eine News ansehen
   GET /news/{id}

## Alle Kurs-News
   GET /courses/{id}/news

## Alle Nutzer-News
   GET /users/{id}/news

## Alle News-Kommentare
   GET /news/{id}/comments

## Alle News auslesen
   GET /news

## Alle globalen News
   GET /studip/news

## Eine News löschen
   DELETE /news/{id}

## Einen Kommentar löschen
   DELETE /comments/{id}

## Alle News-Ranges
   GET /news/{id}/relationships/ranges

   see http://jsonapi.org/format/#fetching-relationships

## News-Ranges setzen
   PATCH /news/{id}/relationships/ranges

   see http://jsonapi.org/format/#crud-updating-to-many-relationships

## News-Ranges hinzufügen
   POST /news/{id}/relationships/ranges

   see http://jsonapi.org/format/#crud-updating-to-many-relationships

## News-Ranges löschen
   DELETE /news/{id}/relationships/ranges

   see http://jsonapi.org/format/#crud-updating-to-many-relationships
